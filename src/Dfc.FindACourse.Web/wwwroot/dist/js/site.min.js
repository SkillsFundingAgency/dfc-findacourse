"use strict";$.fn.accordion=function(e){var s=$.extend({startState:"close",openStateClass:"accordion--state-open",closeStateClass:"accordion--state-close",speed:"slow",open:function(){},close:function(){},done:function(){}},$.fn.accordion.defaults,e);return $(this).each(function(){var e=$(this),o=e.children(".accordion-header"),t=o.next(".accordion-panel");"open"===s.startState&&(e.addClass(s.openStateClass),t.show()),"close"===s.startState&&(e.addClass(s.closeStateClass),t.hide()),o.on("click",function(){t.slideToggle(s.speed,function(){e.hasClass(s.openStateClass)?(e.removeClass(s.openStateClass),e.addClass(s.closeStateClass),$.isFunction(s.close)&&s.close.call(this,e[0])):e.hasClass(s.closeStateClass)&&(e.removeClass(s.closeStateClass),e.addClass(s.openStateClass),$.isFunction(s.open)&&s.open.call(this,e[0])),$.isFunction(s.done)&&s.done.call(this,e[0])})})})},$(function(){var i=function(e){var o=$("#SubjectKeyword").val();$("#SubjectKeyword").focus().val("").val(o);var t=$("#course-list"),s=t.find("li.item-hover"),i=t.innerHeight(),l=t.scrollTop(),c=s.outerHeight(!0),a=s.index()+1;"down"===e&&(i<a*c&&t.scrollTop(l+c),c||t.scrollTop(0)),"up"===e&&(t.scrollTop(l-c),c||(t.scrollTop(t[0].scrollHeight),s.removeClass("item-hover"),t.find("li:last-child").addClass("item-hover")))};$("#SubjectKeyword").on("keyup",function(e){var c,o,t,s=e.keyCode||e.which;38!==s&&40!==s&&($("#course-list li").each(function(){$(this).remove()}),13!==s&&(c=$(this).val(),$.ajax({type:"GET",url:"/coursedirectory/autocomplete",contentType:"application/json; charset=utf-8",dataType:"json",data:{parm:c},success:function(e){$.each(e,function(e,o){var t=o.toLowerCase(),s=o.toUpperCase(),i="<strong>"+c.toUpperCase()+"</strong>",l="";l=-1<t.indexOf(c.toLowerCase())?s.replace(c.toUpperCase(),i):s,$("#course-list").append($("<li>",{"data-value":o,html:l}))}),0<$("#course-list").children("li").length?$("#course-list").show():$("#course-list").hide()},failure:function(e){console.log(e.responseText)},error:function(e){console.log(e.responseText)}}))),38!==s&&40!==s||(o=s,t=$("#course-list li.item-hover"),38===o&&t.length&&(t.removeClass("item-hover"),t.prev()&&t.prev().addClass("item-hover"),i("up")),40===o&&(t.length?(t.removeClass("item-hover"),t.next()&&t.next().addClass("item-hover")):$("#course-list li").first().addClass("item-hover"),i("down")))}),$("#SubjectKeyword").on("keydown",function(e){var o=e.keyCode||e.which;13===o&&$("#course-list").is(":visible")&&(e.preventDefault(),$("#course-list").trigger("click")),9===o&&$("#course-list").hide()}),$("#SubjectKeyword").on("click",function(){$("#course-list").hide()}),$(document).on("click",function(){$("#course-list").hide()}),$("#course-list").on("click",function(){var e=$("#course-list li:hover").attr("data-value"),o=$("#course-list li.item-hover").attr("data-value");o?$("#SubjectKeyword").val(o):$("#SubjectKeyword").val(e),$(this).hide(),$("#SubjectKeyword").focus()})}),$(function(){$("#LocationRadiusFilter").accordion(),$("#StudyModeFilter").accordion(),$("#AttendanceModeFilter").accordion(),$("#AttendancePatternFilter").accordion(),$("#QualificationLevelFilter").accordion(),$("#Dfe1619FundedFilter").accordion(),$(".form-group .multiple-choice .multiple-choice-all").change(function(){$(this).closest(".form-group").find(".multiple-choice .multiple-choice-item").prop("checked",$(this).is(":checked"))}),$(".form-group .multiple-choice .multiple-choice-item").change(function(){var e=$(this).closest(".form-group").find(".multiple-choice .multiple-choice-all"),o=$(this).closest(".form-group").find(".multiple-choice .multiple-choice-item");$(this).closest(".form-group").find(".multiple-choice .multiple-choice-item:checked").length===o.length?e.prop("checked",$(this).is(":checked")):e.prop("checked","")})}),$(function(){var e={highlight:function(e,o){var t=$(e).closest(".form-group");t&&(t.hasClass(o)||t.addClass(o))},unhighlight:function(e,o){var t=$(e).closest(".form-group");t&&t.hasClass(o)&&t.removeClass(o)}};$.validator.setDefaults(e),$("#FindACourseForm input").on("focusout keyup",function(){$(this).hasClass("input-validation-error")?$.validator.defaults.highlight($(this),$.validator.defaults.errorClass):$.validator.defaults.unhighlight($(this),$.validator.defaults.errorClass)}),$(function(){$("select").removeAttr("multiple")})});