"use strict";$(function(){var s=function(e){var o=$("#SubjectKeyword").val();$("#SubjectKeyword").focus().val("").val(o);var r=$("#course-list"),t=r.find("li.item-hover"),s=r.innerHeight(),i=r.scrollTop(),l=t.outerHeight(!0),c=t.index()+1;"down"===e&&(s<c*l&&r.scrollTop(i+l),l||r.scrollTop(0)),"up"===e&&(r.scrollTop(i-l),l||(r.scrollTop(r[0].scrollHeight),t.removeClass("item-hover"),r.find("li:last-child").addClass("item-hover")))};$("#SubjectKeyword").on("keyup",function(e){var l,o,r,t=e.keyCode||e.which;38!==t&&40!==t&&($("#course-list li").each(function(){$(this).remove()}),13!==t&&(l=$(this).val(),$.ajax({type:"GET",url:"/coursedirectory/autocomplete",contentType:"application/json; charset=utf-8",dataType:"json",data:{parm:l},success:function(e){$.each(e,function(e,o){var r=o.toLowerCase(),t=o.toUpperCase(),s="<strong>"+l.toUpperCase()+"</strong>",i="";i=-1<r.indexOf(l.toLowerCase())?t.replace(l.toUpperCase(),s):t,$("#course-list").append($("<li>",{"data-value":o,html:i}))}),0<$("#course-list").children("li").length?$("#course-list").show():$("#course-list").hide()},failure:function(e){console.log(e.responseText)},error:function(e){console.log(e.responseText)}}))),38!==t&&40!==t||(o=t,r=$("#course-list li.item-hover"),38===o&&r.length&&(r.removeClass("item-hover"),r.prev()&&r.prev().addClass("item-hover"),s("up")),40===o&&(r.length?(r.removeClass("item-hover"),r.next()&&r.next().addClass("item-hover")):$("#course-list li").first().addClass("item-hover"),s("down")))}),$("#SubjectKeyword").on("keydown",function(e){var o=e.keyCode||e.which;13===o&&$("#course-list").is(":visible")&&(e.preventDefault(),$("#course-list").trigger("click")),9===o&&$("#course-list").hide()}),$("#SubjectKeyword").on("click",function(){$("#course-list").hide()}),$(document).on("click",function(){$("#course-list").hide()}),$("#course-list").on("click",function(){var e=$("#course-list li:hover").attr("data-value"),o=$("#course-list li.item-hover").attr("data-value");o?$("#SubjectKeyword").val(o):$("#SubjectKeyword").val(e),$(this).hide(),$("#SubjectKeyword").focus()})}),$(function(){var t=function(e,o){var r=$(o).closest(".form-group");$(e).valid()?r&&r.hasClass("error")&&r.removeClass("error"):r&&(r.hasClass("error")||r.addClass("error"))};$("#FindACourseForm input:text[data-val=true]").on("focusout keyup",function(){t($("#FindACourseForm"),this)}),$("#FindACourseForm").on("submit",function(){var r=this;$("#FindACourseForm .input-validation-error").each(function(e,o){t(r,o)})})});