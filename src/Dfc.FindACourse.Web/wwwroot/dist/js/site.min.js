"use strict";$.fn.accordion=function(e){var i=$.extend({startState:"close",openStateClass:"accordion--state-open",closeStateClass:"accordion--state-close",speed:"slow",open:function(){},close:function(){},done:function(){}},$.fn.accordion.defaults,e);return $(this).each(function(){var e=$(this),t=e.children(".accordion-header"),o=t.next(".accordion-panel");"open"===i.startState&&(e.addClass(i.openStateClass),o.show()),"close"===i.startState&&(e.addClass(i.closeStateClass),o.hide()),t.on("click",function(){o.slideToggle(i.speed,function(){e.hasClass(i.openStateClass)?(e.removeClass(i.openStateClass),e.addClass(i.closeStateClass),$.isFunction(i.close)&&i.close.call(this,e[0])):e.hasClass(i.closeStateClass)&&(e.removeClass(i.closeStateClass),e.addClass(i.openStateClass),$.isFunction(i.open)&&i.open.call(this,e[0])),$.isFunction(i.done)&&i.done.call(this,e[0])})})})},$(function(){var c=function(e){var t=$("#SubjectKeyword").val();$("#SubjectKeyword").focus().val("").val(t);var o=$("#course-list"),i=o.find("li.item-hover"),c=o.innerHeight(),s=o.scrollTop(),l=i.outerHeight(!0),a=i.index()+1;"down"===e&&(c<a*l&&o.scrollTop(s+l),l||o.scrollTop(0)),"up"===e&&(o.scrollTop(s-l),l||(o.scrollTop(o[0].scrollHeight),i.removeClass("item-hover"),o.find("li:last-child").addClass("item-hover")))};$("#SubjectKeyword").on("keyup",function(e){var l,t,o,i=e.keyCode||e.which;38!==i&&40!==i&&($("#course-list li").each(function(){$(this).remove()}),13!==i&&(l=$(this).val(),$.ajax({type:"GET",url:"/coursedirectory/autocomplete",contentType:"application/json; charset=utf-8",dataType:"json",data:{parm:l},success:function(e){$.each(e,function(e,t){var o=t.toLowerCase(),i=t.toUpperCase(),c="<strong>"+l.toUpperCase()+"</strong>",s="";s=-1<o.indexOf(l.toLowerCase())?i.replace(l.toUpperCase(),c):i,$("#course-list").append($("<li>",{"data-value":t,html:s}))}),0<$("#course-list").children("li").length?$("#course-list").show():$("#course-list").hide()},failure:function(e){console.log(e.responseText)},error:function(e){console.log(e.responseText)}}))),38!==i&&40!==i||(t=i,o=$("#course-list li.item-hover"),38===t&&o.length&&(o.removeClass("item-hover"),o.prev()&&o.prev().addClass("item-hover"),c("up")),40===t&&(o.length?(o.removeClass("item-hover"),o.next()&&o.next().addClass("item-hover")):$("#course-list li").first().addClass("item-hover"),c("down")))}),$("#SubjectKeyword").on("keydown",function(e){var t=e.keyCode||e.which;13===t&&$("#course-list").is(":visible")&&(e.preventDefault(),$("#course-list").trigger("click")),9===t&&$("#course-list").hide()}),$("#SubjectKeyword").on("click",function(){$("#course-list").hide()}),$(document).on("click",function(){$("#course-list").hide()}),$("#course-list").on("click",function(){var e=$("#course-list li:hover").attr("data-value"),t=$("#course-list li.item-hover").attr("data-value");t?$("#SubjectKeyword").val(t):$("#SubjectKeyword").val(e),$(this).hide(),$("#SubjectKeyword").focus()})}),$(function(){$("#LocationRadiusFilter").accordion(),$("#StudyModeFilter").accordion(),$("#AttendanceModeFilter").accordion(),$("#AttendancePatternFilter").accordion(),$("#QualificationLevelFilter").accordion(),$("#Dfe1619FundedFilter").accordion(),$("#StudyModeFilter .form-group").multipleChoice(),$("#AttendanceModeFilter .form-group").multipleChoice(),$("#AttendancePatternFilter .form-group").multipleChoice(),$("#QualificationLevelFilter .form-group").multipleChoice(),$("#Dfe1619FundedFilter .form-group").multipleChoice()}),$(function(){var e={highlight:function(e,t){var o=$(e).closest(".form-group");o&&(o.hasClass(t)||o.addClass(t))},unhighlight:function(e,t){var o=$(e).closest(".form-group");o&&o.hasClass(t)&&o.removeClass(t)}};$.validator.setDefaults(e),$("#FindACourseForm input").on("focusout keyup",function(){$(this).hasClass("input-validation-error")?$.validator.defaults.highlight($(this),$.validator.defaults.errorClass):$.validator.defaults.unhighlight($(this),$.validator.defaults.errorClass)}),$(function(){$("select").removeAttr("multiple")})}),$.fn.multipleChoice=function(e){var i=$.extend({startState:"unchecked",allChange:function(){},itemChange:function(){}},$.fn.multipleChoice.defaults,e);return console.log(i),$(this).each(function(){var e=$(this),t=e.find("input:checkbox.multiple-choice-all"),o=e.find("input:checkbox.multiple-choice-item");"unchecked"===i.startState?(t.prop("checked",""),o.prop("checked","")):"checked"===i.startState&&(t.prop("checked","checked"),o.prop("checked","checked")),t.on("change",function(){o.prop("checked",$(this).is(":checked")),$.isFunction(i.allChange)&&i.allChange.call(this,e[0])}),o.on("change",function(){e.find("input:checkbox.multiple-choice-item:checked").length===o.length?t.prop("checked","checked"):t.prop("checked",""),$.isFunction(i.itemChange)&&i.itemChange.call(this,e[0])})})};