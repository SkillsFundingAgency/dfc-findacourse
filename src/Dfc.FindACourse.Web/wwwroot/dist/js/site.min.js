"use strict";$.fn.accordion=function(e){var t=$.extend({startState:"close",openStateClass:"accordion--state-open",closeStateClass:"accordion--state-close",speed:"slow",open:function(){},close:function(){},done:function(){}},$.fn.accordion.defaults,e);return $(this).each(function(){var e=$(this),o=e.children(".accordion-header"),s=o.next(".accordion-panel");"open"===t.startState&&(e.addClass(t.openStateClass),s.show()),"close"===t.startState&&(e.addClass(t.closeStateClass),s.hide()),o.on("click",function(){s.slideToggle(t.speed,function(){e.hasClass(t.openStateClass)?(e.removeClass(t.openStateClass),e.addClass(t.closeStateClass),$.isFunction(t.close)&&t.close.call(this,e[0])):e.hasClass(t.closeStateClass)&&(e.removeClass(t.closeStateClass),e.addClass(t.openStateClass),$.isFunction(t.open)&&t.open.call(this,e[0])),$.isFunction(t.done)&&t.done.call(this,e[0])})})})},$(function(){$(".accordion").accordion()}),$(function(){var a=function(e){var o=$("#SubjectKeyword").val();$("#SubjectKeyword").focus().val("").val(o);var s=$("#course-list"),t=s.find("li.item-hover"),a=s.innerHeight(),r=s.scrollTop(),i=t.outerHeight(!0),n=t.index()+1;"down"===e&&(a<n*i&&s.scrollTop(r+i),i||s.scrollTop(0)),"up"===e&&(s.scrollTop(r-i),i||(s.scrollTop(s[0].scrollHeight),t.removeClass("item-hover"),s.find("li:last-child").addClass("item-hover")))};$("#SubjectKeyword").on("keyup",function(e){var i,o,s,t=e.keyCode||e.which;38!==t&&40!==t&&($("#course-list li").each(function(){$(this).remove()}),13!==t&&(i=$(this).val(),$.ajax({type:"GET",url:"/coursedirectory/autocomplete",contentType:"application/json; charset=utf-8",dataType:"json",data:{parm:i},success:function(e){$.each(e,function(e,o){var s=o.toLowerCase(),t=o.toUpperCase(),a="<strong>"+i.toUpperCase()+"</strong>",r="";r=-1<s.indexOf(i.toLowerCase())?t.replace(i.toUpperCase(),a):t,$("#course-list").append($("<li>",{"data-value":o,html:r}))}),0<$("#course-list").children("li").length?$("#course-list").show():$("#course-list").hide()},failure:function(e){console.log(e.responseText)},error:function(e){console.log(e.responseText)}}))),38!==t&&40!==t||(o=t,s=$("#course-list li.item-hover"),38===o&&s.length&&(s.removeClass("item-hover"),s.prev()&&s.prev().addClass("item-hover"),a("up")),40===o&&(s.length?(s.removeClass("item-hover"),s.next()&&s.next().addClass("item-hover")):$("#course-list li").first().addClass("item-hover"),a("down")))}),$("#SubjectKeyword").on("keydown",function(e){var o=e.keyCode||e.which;13===o&&$("#course-list").is(":visible")&&(e.preventDefault(),$("#course-list").trigger("click")),9===o&&$("#course-list").hide()}),$("#SubjectKeyword").on("click",function(){$("#course-list").hide()}),$(document).on("click",function(){$("#course-list").hide()}),$("#course-list").on("click",function(){var e=$("#course-list li:hover").attr("data-value"),o=$("#course-list li.item-hover").attr("data-value");o?$("#SubjectKeyword").val(o):$("#SubjectKeyword").val(e),$(this).hide(),$("#SubjectKeyword").focus()})}),$(function(){var t=function(e,o){var s=$(o).closest(".form-group");$(e).valid()?s&&s.hasClass("error")&&s.removeClass("error"):s&&(s.hasClass("error")||s.addClass("error"))};$("#FindACourseForm input:text[data-val=true]").on("focusout",function(){t($("#FindACourseForm"),this)}),$("#FindACourseForm").on("submit",function(){var s=this;$("#FindACourseForm .input-validation-error").each(function(e,o){t(s,o)})})});