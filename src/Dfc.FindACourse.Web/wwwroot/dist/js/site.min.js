"use strict";!function(){var s={init:function(e){var i=$.extend({startState:"close",openStateClass:"accordion--state-open",closeStateClass:"accordion--state-close",speed:"slow",open:function(){},close:function(){},done:function(){}},$.fn.accordion.defaults,e);return $(this).each(function(){var t=$(this),e=t.children(".accordion-header"),o=e.next(".accordion-panel");if(t.removeClass([i.openStateClass,i.closeStateClass]),s.getIsPostBack(t[0]))"open"===i.startState?t.addClass(i.openStateClass):"close"===i.startState&&t.addClass(i.closeStateClass);else{var n=s.getStateCssClass(t[0],i);t.addClass(n)}e.on("click",function(){o.slideToggle(i.speed,function(){var e=s.getToggleState(t[0],i);t.removeClass(e.removeCssClass),t.addClass(e.addCssClass),"open"===e.currentState?$.isFunction(i.open)&&i.open.call(this,t[0]):"close"===e.currentState&&$.isFunction(i.close)&&i.open.call(this,t[0]),$.isFunction(i.done)&&i.done.call(this,t[0])})})})},getIsPostBack:function(e){var t=$(e).attr("id"),o=window.sessionStorage.getItem(t+"::isPostBack")||null;return o=null===o,s.setIsPostBack(e,o),o},setIsPostBack:function(e,t){var o=$(e).attr("id");window.sessionStorage.setItem(o+"::isPostBack",t)},getStateCssClass:function(e,t){var o=$(e).attr("id"),n=window.sessionStorage.getItem(o+"::stateCssClass")||null;return null===n&&("open"===t.startState?n=t.openStateClass:"close"===t.startState&&(n=t.closeStateClass),s.setStateCssClass(e,n)),console.log([o,"getStateCssClass",n]),n},setStateCssClass:function(e,t){var o=$(e).attr("id");window.sessionStorage.setItem(o+"::stateCssClass",t),console.log([o,"setStateCssClass",t])},getToggleState:function(e,t){return s.getStateCssClass(e,t)===t.openStateClass?(s.setStateCssClass(e,t.closeStateClass),{currentState:"close",previousState:"open",removeCssClass:t.openStateClass,addCssClass:t.closeStateClass}):(s.setStateCssClass(e,t.openStateClass),{currentState:"open",previousState:"close",removeCssClass:t.closeStateClass,addCssClass:t.openStateClass})}};$.fn.accordion=function(e){if("object"!=typeof e&&e){if($.isFunction(s[e]))return s[e].apply(this,Array.prototype.slice.call(arguments,1))}else s.init.apply(this,arguments)}}(),$(function(){var i=function(e){var t=$("#SubjectKeyword").val();$("#SubjectKeyword").focus().val("").val(t);var o=$("#course-list"),n=o.find("li.item-hover"),i=o.innerHeight(),s=o.scrollTop(),a=n.outerHeight(!0),l=n.index()+1;"down"===e&&(i<l*a&&o.scrollTop(s+a),a||o.scrollTop(0)),"up"===e&&(o.scrollTop(s-a),a||(o.scrollTop(o[0].scrollHeight),n.removeClass("item-hover"),o.find("li:last-child").addClass("item-hover"))),c()};$("#SubjectKeyword").on("keyup",function(e){var a,t,o,n=e.keyCode||e.which;38!==n&&40!==n&&($("#course-list li").each(function(){$(this).remove()}),13!==n&&(a=$(this).val(),$.ajax({type:"GET",url:"/coursedirectory/autocomplete",contentType:"application/json; charset=utf-8",dataType:"json",data:{parm:a},success:function(e){$.each(e,function(e,t){var o=t.toLowerCase(),n=t.toUpperCase(),i="<strong>"+a.toUpperCase()+"</strong>",s="";s=-1<o.indexOf(a.toLowerCase())?n.replace(a.toUpperCase(),i):n,$("#course-list").append($("<li>",{"data-value":t,html:s}))}),0<$("#course-list").children("li").length?$("#course-list").show():$("#course-list").hide()},failure:function(e){console.log(e.responseText)},error:function(e){console.log(e.responseText)}})),13===n&&$("#course-list").trigger("click")),38!==n&&40!==n||(t=n,o=$("#course-list li.item-hover"),38===t&&o.length&&(o.removeClass("item-hover"),o.prev()&&o.prev().addClass("item-hover"),i("up")),40===t&&(o.length?(o.removeClass("item-hover"),o.next()&&o.next().addClass("item-hover")):$("#course-list li").first().addClass("item-hover"),i("down")))}),$("#SubjectKeyword").on("keydown",function(e){var t=e.keyCode||e.which;13===t&&$("#course-list").is(":visible")&&(e.preventDefault(),$("#Search").focus().click()),9===t&&$("#course-list").hide()}),$("#SubjectKeyword").on("click",function(){$("#course-list").hide()}),$(document).on("click",function(){$("#course-list").hide()}),$("#course-list").on("click",function(){c(),$(this).hide(),$("#SubjectKeyword").focus()});var c=function(){var e=$("#course-list li:hover").attr("data-value"),t=$("#course-list li.item-hover").attr("data-value");t?0<=t.indexOf(" ")?$("#SubjectKeyword").val('"'+t+'"'):$("#SubjectKeyword").val(t):$("#SubjectKeyword").val(e),$("#hidSubjectKeyword").val($("#SubjectKeyword").val())}}),$.fn.clearAllFilters=function(e){var o=$.extend({filters:[],defaultFilters:[],done:function(){}},$.fn.clearAllFilters.defaults,e);return $(this).each(function(){if($.isArray(o.filters)&&0<o.filters.length){var t=$(this);t.on("click",function(e){e.preventDefault(),$(o.filters).each(function(e){var t=$(o.filters[e]);(t.is(":checkbox")||t.is(":radio"))&&t.prop("checked",""),$.isArray(o.defaultFilters)&&0<o.defaultFilters.length&&$(o.defaultFilters).each(function(e){var t=$(o.defaultFilters[e]);(t.is(":checkbox")||t.is(":radio"))&&t.prop("checked","checked")})}),$.isFunction(o.done)&&o.done.call(this,t[0])})}})},$(function(){var t=function(e,t){var o="";$(t.allElement).is(":checked")&&(o=t.itemElements.length+" selected"),$(e).html(o),$("#FindACourseForm").submit()},o=function(e,t){var o=$(t.itemElements).filter(":checked").length,n="";0<o&&(n=o+" selected"),$(e).html(n),$("#AttendanceModeFilter").accordion("testy"),$("#FindACourseForm").submit()};$("#LocationRadiusFilter").accordion(),$("#LocationRadiusFilter input[name='LocationRadius']").on("click",function(){$("#FindACourseForm").submit()}),$("#StudyModeFilter").accordion(),$("#AttendanceModeFilter").accordion(),$("#AttendancePatternFilter").accordion(),$("#QualificationLevelFilter").accordion(),$("#IsDfe1619FundedFilter").accordion(),$("#StudyModeFilter .form-group").multipleChoice({allChange:function(e){t("#StudyModeFilter .accordion-subheading",e)},itemChange:function(e){o("#StudyModeFilter .accordion-subheading",e)}}),$("#AttendanceModeFilter .form-group").multipleChoice({allChange:function(e){t("#AttendanceModeFilter .accordion-subheading",e)},itemChange:function(e){o("#AttendanceModeFilter .accordion-subheading",e)}}),$("#AttendancePatternFilter .form-group").multipleChoice({allChange:function(e){t("#AttendancePatternFilter .accordion-subheading",e)},itemChange:function(e){o("#AttendancePatternFilter .accordion-subheading",e)}}),$("#QualificationLevelFilter .form-group").multipleChoice({allChange:function(e){t("#QualificationLevelFilter .accordion-subheading",e)},itemChange:function(e){o("#QualificationLevelFilter .accordion-subheading",e)}}),$("#IsDfe1619FundedFilter input[name='IsDfe1619Funded']").on("click",function(){$("#FindACourseForm").submit()}),$("#ClearAlFilters").clearAllFilters({filters:["input[name='LocationRadius']","input[name='StudyModes']","input[name='AttendanceModes']","input[name='AttendancePatterns']","input[name='QualificationLevels']","input[name='IsDfe1619Funded']"],defaultFilters:["#LocationRadius10Miles","#IsDfe1619FundedAll"],done:function(){$(".accordion-subheading").html(""),$("#FindACourseForm").submit()}}),$("#SortBy").on("change",function(){$("#FindACourseForm").submit()})}),$(function(){$(function(){$("select").removeAttr("multiple")})}),$.fn.multipleChoice=function(e){var n=$.extend({allChange:function(){},itemChange:function(){}},$.fn.multipleChoice.defaults,e);return $(this).each(function(){var e=$(this),t=e.find("input:checkbox.multiple-choice-all"),o=e.find("input:checkbox.multiple-choice-item");t.on("change",function(){o.prop("checked",$(this).is(":checked")),$.isFunction(n.allChange)&&n.allChange.call(this,{multipleChoiceElement:e[0],allElement:this,itemElements:o,targetElement:this})}),o.on("change",function(){e.find("input:checkbox.multiple-choice-item:checked").length===o.length?t.prop("checked","checked"):t.prop("checked",""),$.isFunction(n.itemChange)&&n.itemChange.call(this,{multipleChoiceElement:e[0],allElement:t,itemElements:o,targetElement:this})})})},$(function(){var e={speed:100,collapsedHeight:100,heightMargin:25,moreLink:'<a href="#" style="display:block;margin-bottom:20px;">... read more</a>',lessLink:'<a href="#" style="display:block;margin-bottom:20px;">read less</a>'};$("#EntryRequirements").css("overflow","hidden").readmore(e),$("#PriceDescription").css("overflow","hidden").readmore(e),$("#CourseSummary").css("overflow","hidden").readmore(e),$("#EquipmentRequired").css("overflow","hidden").readmore(e),$("#AssessmentMethod").css("overflow","hidden").readmore(e)}),$(function(){function e(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(document.referrer);return null==t?"":t[1]}var t=e("SubjectKeyword"),o=e("QualificationLevels"),n=e("LocationRadius"),i=e("Location");$("#QualificationLevels").val(o),$("#LocationRadius").val(n),0<t.length&&$("#SubjectKeyword").val(decodeURIComponent(t).replace(/\+/g," ")),0<i.length&&$("#Location").val(decodeURIComponent(i).replace(/\+/g," "))}),$(function(){$(".twitter").attr("href","https://twitter.com/intent/tweet?original_referer&amp;url="+window.location.href),$(".facebook").attr("href","https://www.facebook.com/sharer/sharer.php?u="+window.location.href),$(".linkedin").attr("href","https://www.linkedin.com/shareArticle?url="+window.location.href),$(".email").attr("href","mailto:?subject=I wanted to share this post with you from the National Careers Service: "+window.location.href)});